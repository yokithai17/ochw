# Лаб. 4: Работа с файлами через API ОС

## Задание

На основе предыдущей лабораторной работы реализовать чтение/запись конфигурационного файла программы, в
котором будут храниться следующие настройки:

- Размер поля.
- Размер окна.
- Цвет фона и цвет линий сетки.

Файл должен считываться при запуске программы и записываться (актуализироваться) по ее завершению. Формат
хранения настроек определяется программистом (например, можно взять формат INI, или просто записать значения в
отдельных строках, а то и вовсе напрямую записывать и считывать структуру данных). Файл должен быть расположен
в одном каталоге с исполняемым файлом, выбор имени файла настроек - на усмотрение программиста.

При первом запуске (когда конфигурационного файла еще нет) программа должна корректно обработать эту ситуаццию,
выбрав для всех параметров указанные в задании лабораторной No3 умолчания.

Чтение/запись конфигурационного файла должна осуществляться 4 разными методами:

- При помощи отображения файлов на память (CreateFileMapping/MapViewOfFile)
- При помощи файловых переменных (fopen/ fread/ fwrite/ fclose).
- При помощи потоков ввода-вывода (fstream).
- При помощи файловых функций WinAPI/NativeAPI.

Выбор способа загрузки должен осуществляться по наличию/отсутствию определённого аргумента командной строки
при запуске приложения.

Размер поля, указанный пользователем при запуске приложения в качестве аргумента командной строки, имеет
приоритет над значением, записанным в конфигурационном файле, и значением по умолчанию.

## Критерииоценивания

- Программа корректно реализует чтение/запись при помощи отображения на память - 2 балла.
- Программа корректно реализует чтение/запись при помощи файловых переменных - 1 балл.
- Программа корректно реализует чтение/запись при помощи потоков - 1 балл.
- Программа корректно реализует чтение/запись при помощи файловых функций WinAPI/NativeAPI - 1 балл.
- Программа принимает и корректно обрабатывает параметр командной строки, отвечающий за метод загрузки
  конфигурационного файла - 1 балл.
- Программа корректно реализует логику определения размера окна с учетом значения из конфигурационного
  файла и параметра командной строки - 2 балла.
- Студент может аргументированно объяснить, в чём заключается разница между используемыми методами
  чтения/записи файла - 2 балла.

Под корректностью реализации подразумевается в т.ч. своевременное освобождение ресурсов.

### 1


